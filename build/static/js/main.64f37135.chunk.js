(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{40:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var c=n(16),a=n.n(c),o=n(3),r=n(1),i=n(0),u=function(e){var t=e.contact,n=e.action;return Object(i.jsxs)("li",{children:[t.name," ",t.number,Object(i.jsx)("button",{onClick:n,children:"delaa"})]})},s=function(e){var t=e.addContact,n=e.newName,c=e.handleNameChange,a=e.newNumber,o=e.handleNumberChange;return Object(i.jsxs)("form",{onSubmit:t,children:[Object(i.jsxs)("div",{children:["Name: ",Object(i.jsx)("input",{value:n,onChange:c})]}),Object(i.jsxs)("div",{children:["Number: ",Object(i.jsx)("input",{value:a,onChange:o})]}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{type:"submit",children:"add"})})]})},l=n(4),j=n.n(l),d="https://polar-spire-32718.herokuapp.com/api/persons",h=function(){return console.log("Yritet\xe4\xe4np\xe4 palauttaa taulukko"),j.a.get(d).then((function(e){return e.data}))},b=function(e){return j.a.post(d,e).then((function(e){return e.data}))},f=function(e,t){return j.a.put("".concat(d,"/").concat(e),t).then((function(e){return e.data}))},O=function(e){return j.a.delete("".concat(d,"/").concat(e)).then((function(e){return e}))},m=function(e){var t=e.countriesToShow,n=e.handle;if(1===t.length){var c=t[0];return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("p",{children:["Name: ",c.name]}),Object(i.jsxs)("p",{children:["Capital: ",c.capital]}),Object(i.jsxs)("p",{children:["Area: ",c.area]}),Object(i.jsx)("p",{children:"Languages:"})," ",c.languages.map((function(e){return Object(i.jsx)("ul",{children:Object(i.jsx)("li",{children:e.name})})})),Object(i.jsx)("p",{children:"Flag: "})," ",Object(i.jsx)("img",{src:c.flags.png,alt:"Kuva"})]})}return t.length>1&&t.length<11?Object(i.jsx)(i.Fragment,{children:t.map((function(e){return Object(i.jsxs)("li",{children:[" ",e.name,Object(i.jsx)("button",{onClick:function(){return n(e)},children:" Show"})]})}))}):t.length>10?Object(i.jsx)(i.Fragment,{children:"Too many matches"}):Object(i.jsx)("p",{children:"Input country name"})},p=function(e){var t=Object(r.useState)([]),n=Object(o.a)(t,2),c=n[0],a=n[1],l=Object(r.useState)(""),d=Object(o.a)(l,2),p=d[0],g=d[1],x=Object(r.useState)(""),v=Object(o.a)(x,2),w=v[0],C=v[1],k=Object(r.useState)(""),S=Object(o.a)(k,2),N=S[0],y=S[1],F=Object(r.useState)(!0),T=Object(o.a)(F,2),L=T[0],E=T[1],I=Object(r.useState)([]),D=Object(o.a)(I,2),J=D[0],A=D[1],B=Object(r.useState)([]),K=Object(o.a)(B,2),P=K[0],Y=K[1],q=Object(r.useState)([]),z=Object(o.a)(q,2),G=z[0],H=z[1],M=Object(r.useState)(""),Q=Object(o.a)(M,2),R=Q[0],U=Q[1],V=function(e){var t=e.message;return Object(i.jsx)("div",{className:"message",children:t})},W=function(e){U(e),setTimeout((function(){U(null)}),3e3)},X=function(){console.log("hook - effect"),h().then((function(e){console.log("hook promise fullfilled"),a(e)}))};Object(r.useEffect)(X,[]);Object(r.useEffect)((function(){console.log("hook1 - effect"),j.a.get("https://restcountries.com/v2/all").then((function(e){console.log("hook2 - promise fullfilled"),A(e.data)}))}),[]);var Z=L?c:c.filter((function(e){return e.name.toLowerCase().match(N.toLowerCase())}));return Object(i.jsxs)("div",{children:[Object(i.jsx)("h2",{children:"Phonebook"}),Object(i.jsx)("p",{children:Object(i.jsx)(V,{message:R})}),Object(i.jsxs)("div",{children:["filter shown with:",Object(i.jsx)("input",{value:N,onChange:function(e){y(e.target.value),""===e.target.value?E(!0):E(!1)}})]}),Object(i.jsx)("h2",{children:"add a new"}),Object(i.jsx)(s,{addContact:function(e){if(e.preventDefault(),c.map((function(e){return e.name})).indexOf(p)>-1){var t=c.find((function(e){return e.name===p}));t.number=w,window.confirm("Contact exists, wanna update it")&&f(String(t.id),t).then((function(e){a(c.map((function(t){return t.id!==e.id?t:e}))),g(""),C(""),console.log("New contact added",e.name,e.id),W("contact ".concat(e.name," updated"))})).catch((function(e){X(),W(e.response.data.error)}))}else{var n={name:p,number:w,date:(new Date).toISOString()};b(n).then((function(e){console.log("Lis\xe4t\xe4\xe4n muistin taulukkoon suoraan: ",e),a(c.concat(e)),g(""),C(""),console.log("new contact added, event.target"),W("New contact added")})).catch((function(e){X(),console.log(e.response.data.error),W(e.response.data.error)}))}},newName:p,handleNameChange:function(e){g(e.target.value)},newNumber:w,handleNumberChange:function(e){C(e.target.value)}}),Object(i.jsx)("h2",{children:"Numbers"}),Object(i.jsx)("div",{children:Object(i.jsxs)("button",{onClick:function(){return E(!L)},children:["show",L?"important":"all"]})}),Object(i.jsx)("ul",{children:Z.map((function(e){return Object(i.jsx)(u,{contact:e,action:function(){return t=e.id,console.log("Try to delaa"),void O(t).then((function(e){console.log(e),X(),W("One contact removed")})).catch((function(e){X(),W("Contact was already removed")}));var t}},e.name)}))}),Object(i.jsx)("h1",{children:" FlagFinder"}),Object(i.jsx)("p",{children:" find countries"}),Object(i.jsx)("input",{value:P,onChange:function(e){Y(e.target.value),H(J.filter((function(e){return e.name.includes(P)})))}}),Object(i.jsx)("div",{children:Object(i.jsx)(m,{countriesToShow:G,handle:function(e){Y(e.name),H(J.filter((function(t){return t.name.includes(e.name)})))}})})]})};n(40);a.a.render(Object(i.jsx)(p,{}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.64f37135.chunk.js.map